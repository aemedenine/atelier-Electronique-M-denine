<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Atelier Electronique Médenine</title>
  <style>
    html {
      scroll-behavior: smooth;
      scroll-padding-top: 100px;
    }
    body {
      font-family: sans-serif;
      background-color: #f9f9f9;
      color: #333;
      margin: 0;
      direction: rtl;
      text-align: center;
    }
    header {
      background-color: #005f99;
      color: white;
      padding: 20px 10px;
    }
    .header-top {
      display: flex;
      justify-content: space-between;
      align-items: center;
      max-width: 800px;
      margin: auto;
    }
    .header-logo {
      width: 140px;
      border-radius: 10px;
    }
    .qr-container {
      text-align: center;
      margin-bottom: 10px;
    }
    .qr-container img {
      width: 90px;
      border-radius: 10px;
    }
    .qr-container p {
      font-size: 0.9em;
      margin-top: 5px;
      color: white;
      font-weight: bold;
    }
    .experience-badge {
      background-color: gold;
      color: #333;
      padding: 5px 10px;
      border-radius: 20px;
      font-size: 13px;
      font-weight: bold;
      box-shadow: 0 1px 4px rgba(0,0,0,0.2);
      margin: 10px auto;
      display: inline-block;
      max-width: 200px;
    }
    .info-bar {
      background: #fff;
      padding: 10px 0;
      font-weight: bold;
      font-size: 14px;
      display: flex;
      justify-content: center;
      gap: 20px;
      direction: ltr;
    }
    .news-ticker {
      background-color: #c00000;
      color: white;
      padding: 10px 0;
      overflow: hidden;
      white-space: nowrap;
      font-weight: bold;
      position: relative;
      font-size: 0.9em;
      direction: rtl;
    }
    .news-ticker span {
      display: inline-block;
      padding-left: 100%;
      animation: scroll-horizontal-left 25s linear infinite;
    }
    @keyframes scroll-horizontal-left {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }
    .cta-buttons {
      display: flex;
      flex-direction: column;
      gap: 12px;
      width: 260px;
      margin: 20px auto;
      align-items: center;
    }
    .cta-buttons a, .cta-buttons button {
      background-color: white;
      color: #005f99;
      border: 2px solid #005f99;
      padding: 12px 0;
      font-size: 16px;
      font-weight: 600;
      border-radius: 6px;
      cursor: pointer;
      text-decoration: none;
      box-shadow: 0 3px 8px rgba(0,95,153,0.2);
      transition: background-color 0.3s ease, color 0.3s ease;
      width: 100%;
      max-width: 260px;
      text-align: center;
      display: block;
      height: 44px;
    }
    .cta-buttons a:hover, .cta-buttons button:hover {
      background-color: #005f99;
      color: white;
      box-shadow: 0 5px 15px rgba(0,95,153,0.5);
    }
    #map {
      width: 90%;
      height: 250px;
      border-radius: 10px;
      margin: 0 auto 30px auto;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    }
    .gallery {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      padding: 20px;
      max-width: 800px;
      margin: auto;
      margin-top: 60px;
    }
    .gallery img {
      width: 100%;
      border-radius: 6px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
      cursor: pointer;
    }
    footer {
      background: #eee;
      padding: 15px;
      font-size: 0.9em;
      direction: rtl;
    }
    footer .social-icons {
      margin-top: 10px;
      display: flex;
      justify-content: center;
      gap: 20px;
    }
    footer .social-icons a {
      display: inline-block;
      width: 30px;
      height: 30px;
      opacity: 0.7;
      transition: opacity 0.3s ease;
    }
    footer .social-icons a:hover {
      opacity: 1;
    }
    footer .social-icons img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }
    .lightbox {
      display: none;
      position: fixed;
      z-index: 999;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.8);
      justify-content: center;
      align-items: center;
    }
    .lightbox img {
      max-width: 90%;
      max-height: 90%;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.3);
    }
    /* زر تواصل خاص */
    .special-contact-btn {
      position: fixed;
      bottom: 30px;
      left: 30px;
      background-color: #e67e22;
      color: white;
      font-size: 28px;
      padding: 15px 18px;
      border-radius: 50%;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
      text-decoration: none;
      z-index: 9999;
      transition: background-color 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }
    .special-contact-btn:hover {
      background-color: #d35400;
    }
    /* أسئلة شائعة */
    .faq {
      max-width: 800px;
      margin: 40px auto;
      padding: 0 20px;
      text-align: right;
    }
    .faq h2 {
      text-align: center;
      color: #005f99;
      margin-bottom: 20px;
    }
    .faq-item {
      margin-bottom: 20px;
      border-bottom: 1px solid #ccc;
      padding-bottom: 10px;
    }
    .faq-item h3 {
      cursor: pointer;
      position: relative;
      padding-right: 25px;
      color: #005f99;
    }
    .faq-item h3::before {
      content: '+';
      position: absolute;
      right: 0;
      top: 0;
      font-size: 20px;
      color: #005f99;
      user-select: none;
      transition: transform 0.3s ease;
    }
    .faq-item.open h3::before {
      content: '-';
      transform: rotate(180deg);
    }
    .faq-item .answer {
      display: none;
      margin-top: 10px;
      color: #444;
      line-height: 1.5;
    }
    .faq-item.open .answer {
      display: block;
    }
    @media (max-width: 600px) {
      .gallery {
        grid-template-columns: 1fr;
      }
      .header-top {
        flex-direction: column;
        gap: 10px;
      }
    }
  </style>
</head>
<body>
  <div class="info-bar" dir="ltr">
    ⏱️ <span id="current-time">جاري التحميل...</span> | 👁️ <span id="visit-count">0</span>
  </div>

  <div class="news-ticker" dir="rtl">
    <span id="live-news">📰 جاري تحميل الأخبار...</span>
  </div>

  <header>
    <div class="qr-container">
      <img src="qr-code.png" alt="QR Code" />
      <p id="qr-label">📱 امسح للوصول السريع</p>
    </div>
    <div class="experience-badge">🌼 10+ سنوات خبرة</div>
    <h1>Atelier Electronique Médenine</h1>
    <div class="header-top">
      <img class="header-logo" src="logo.png" alt="شعار الورشة" />
      <p id="slogan">ورشة إلكترونيك الرحماني - نخدمو تونس الكل</p>
    </div>
  </header>

  <div class="cta-buttons">
    <a id="whatsapp-btn" href="https://wa.me/21698192103" target="_blank" rel="noopener noreferrer">📞 تواصل معنا واتساب</a>
    <a id="maps-btn" href="https://maps.app.goo.gl/nxBU8h2oFDEkiBFE9" target="_blank" rel="noopener noreferrer">🗺️ شوفنا على Google Maps</a>
    <a href="photos.html" class="photos">📷 شوف الصور</a>
    <a href="videos.html" class="videos">🎞️ شوف الفيديو</a>
    <button id="play-radio">📻 شغّل الراديو</button>
    <button onclick="toggleLanguage()">🌐 تغيير اللغة</button>
  </div>

  <div id="map">
    <iframe
      src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d31804.419783204927!2d10.449874173273722!3d33.34836845615715!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x13f9db72f15e3f2d%3A0x2ffb7fbd7d49855b!2sAtelier%20Electronique%20M%C3%A9denine!5e0!3m2!1sen!2stn!4v1688854423728!5m2!1sen!2stn"
      width="100%"
      height="250"
      style="border:0; border-radius:10px;"
      allowfullscreen=""
      loading="lazy"
      referrerpolicy="no-referrer-when-downgrade"></iframe>
  </div>

  <div class="gallery">
    <img src="Tech.jpg" alt="صورة من الورشة" onclick="openLightbox(this.src)" />
    <img src="Hh.png" alt="إصلاح إلكتروني" onclick="openLightbox(this.src)" />
  </div>

  <section class="faq">
    <h2>الأسئلة الشائعة</h2>
    <div class="faq-item">
      <h3>كيف يمكنني إرسال جهاز للإصلاح؟</h3>
      <div class="answer">يمكنك إرسال الجهاز عبر البريد إلى عنوان الورشة أو التواصل معنا لترتيب خدمة الاستلام.</div>
    </div>
    <div class="faq-item">
      <h3>ما هي مدة التصليح المعتادة؟</h3>
      <div class="answer">مدة التصليح تختلف حسب نوع العطل، لكن غالباً لا تتجاوز 3 أيام عمل.</div>
    </div>
    <div class="faq-item">
      <h3>هل توفرون قطع غيار أصلية؟</h3>
      <div class="answer">نعم، نوفر قطع غيار أصلية وذات جودة عالية لجميع الأجهزة.</div>
    </div>
    <div class="faq-item">
      <h3>كيف أتابع حالة الإصلاح؟</h3>
      <div class="answer">نقوم بإرسال صور وفيديوهات لحالة الجهاز أثناء مراحل التصليح عبر واتساب.</div>
    </div>
  </section>

  <div id="lightbox" class="lightbox" onclick="closeLightbox()">
    <img id="lightbox-img" src="" alt="" />
  </div>

  <footer id="footer-text" dir="rtl">
    📍 مدنين – نخدمو في كامل أنحاء تونس | 📲 WhatsApp:98192103<br>
    ⏰ من الإثنين للسبت، 08:00 - 18:00 | الأحد راحة
    <div class="social-icons">
      <a href="https://www.facebook.com/AEMednine" target="_blank" rel="noopener noreferrer" title="Facebook">
        <img src="icons/facebook.svg" alt="Facebook" />
      </a>
      <a href="https://www.instagram.com/aemedenine/" target="_blank" rel="noopener noreferrer" title="Instagram">
        <img src="icons/instagram.svg" alt="Instagram" />
      </a>
      <a href="https://wa.me/21698192103" target="_blank" rel="noopener noreferrer" title="WhatsApp">
        <img src="icons/whatsapp.svg" alt="WhatsApp" />
      </a>
    </div>
  </footer>

  <audio id="radio-stream" src="https://stream.radiojar.com/8s5u5tpdtwzuv" preload="none"></audio>

  <a href="contact.html" class="special-contact-btn" title="تواصل معنا">📩</a>

  <script>
    // تحديث الوقت والتاريخ
    function updateTime() {
      const now = new Date();
      const days = ['الأحد','الإثنين','الثلاثاء','الأربعاء','الخميس','الجمعة','السبت'];
      const months = ['جانفي','فيفري','مارس','أفريل','ماي','جوان','جويلية','أوت','سبتمبر','أكتوبر','نوفمبر','ديسمبر'];
      const day = days[now.getDay()];
      const date = now.getDate();
      const month = months[now.getMonth()];
      const hours = now.getHours().toString().padStart(2, '0');
      const minutes = now.getMinutes().toString().padStart(2, '0');
      document.getElementById('current-time').textContent = `${day} ${date} ${month} - ${hours}:${minutes}`;
    }

    // تحديث عداد الزيارات
    function updateVisits() {
      let visits = localStorage.getItem('visit-count');
      visits = visits ? parseInt(visits) + 1 : 1;
      localStorage.setItem('visit-count', visits);
      document.getElementById('visit-count').textContent = `عدد الزيارات: ${visits}`;
    }

    // تشغيل وإيقاف الراديو
    const radio = document.getElementById('radio-stream');
    const radioBtn = document.getElementById('play-radio');
    radioBtn.addEventListener('click', () => {
      if (radio.paused) {
        radio.play();
        radioBtn.textContent = currentLang === 'ar' ? '⏸️ أوقف الراديو' : '⏸️ Arrêter la radio';
      } else {
        radio.pause();
        radioBtn.textContent = currentLang === 'ar' ? '📻 شغّل الراديو' : '📻 Écouter la radio';
      }
    });

    // فتح وغلق نافذة عرض الصور
    function openLightbox(src) {
      document.getElementById('lightbox-img').src = src;
      document.getElementById('lightbox').style.display = 'flex';
    }
    function closeLightbox() {
      document.getElementById('lightbox').style.display = 'none';
    }

    // تغيير اللغة عربي/فرنسي
    let currentLang = 'ar';
    const experienceBadge = document.querySelector('.experience-badge');

    function toggleLanguage() {
      if (currentLang === 'ar') {
        document.documentElement.lang = 'fr';
        document.documentElement.dir = 'ltr';
        document.getElementById('slogan').textContent = "Atelier de réparation électronique - On couvre toute la Tunisie";
        document.getElementById('qr-label').textContent = "📱 Scannez pour accéder rapidement";
        document.getElementById('whatsapp-btn').textContent = "📞 Contact WhatsApp";
        document.getElementById('maps-btn').textContent = "🗺️ Voir sur Google Maps";
        document.querySelector('.photos').textContent = "📷 Voir les photos";
        document.querySelector('.videos').textContent = "🎞️ Voir les vidéos";
        document.getElementById('play-radio').textContent = "📻 Écouter la radio";
        document.getElementById('footer-text').innerHTML = "📍 Médenine – Service dans toute la Tunisie | 📲 WhatsApp:98192103<br>⏰ Du lundi au samedi, 08:00 - 18:00 | Dimanche fermé";
        experienceBadge.textContent = "🌼 10+ ans d'expérience";
        currentLang = 'fr';

        // ترجمة الأسئلة
        document.querySelector('.faq h2').textContent = "FAQ - Questions fréquentes";
        const faqQuestions = document.querySelector
        // ترجمة الأسئلة الشائعة (FAQ)
        const faqQuestions = [
          "Comment envoyer un appareil pour réparation ?",
          "Quelle est la durée habituelle de réparation ?",
          "Fournissez-vous des pièces d'origine ?",
          "Comment suivre l'état de la réparation ?"
        ];
        const faqAnswers = [
          "Vous pouvez envoyer l'appareil par courrier à l'atelier ou nous contacter pour organiser la collecte.",
          "La durée varie selon le type de panne, mais ne dépasse généralement pas 3 jours ouvrables.",
          "Oui, nous fournissons des pièces originales et de haute qualité pour tous les appareils.",
          "Nous envoyons des photos et vidéos de l'état de l'appareil pendant les phases de réparation via WhatsApp."
        ];
        const faqItems = document.querySelectorAll('.faq-item');
        faqItems.forEach((item, i) => {
          item.querySelector('h3').textContent = faqQuestions[i];
          item.querySelector('.answer').textContent = faqAnswers[i];
          item.classList.remove('open'); // يغلق الأسئلة عند التبديل
        });
      } else {
        // العودة إلى العربية
        document.documentElement.lang = 'ar';
        document.documentElement.dir = 'rtl';
        document.getElementById('slogan').textContent = "ورشة إلكترونيك الرحماني - نخدمو تونس الكل";
        document.getElementById('qr-label').textContent = "📱 امسح للوصول السريع";
        document.getElementById('whatsapp-btn').textContent = "📞 تواصل معنا واتساب";
        document.getElementById('maps-btn').textContent = "🗺️ شوفنا على Google Maps";
        document.querySelector('.photos').textContent = "📷 شوف الصور";
        document.querySelector('.videos').textContent = "🎞️ شوف الفيديو";
        document.getElementById('play-radio').textContent = "📻 شغّل الراديو";
        document.getElementById('footer-text').innerHTML = "📍 مدنين – نخدمو في كامل أنحاء تونس | 📲 WhatsApp:98192103<br>⏰ من الإثنين للسبت، 08:00 - 18:00 | الأحد راحة";
        experienceBadge.textContent = "🌼 10+ سنوات خبرة";

        // ترجمة الأسئلة الشائعة (FAQ) إلى العربية
        const faqQuestionsAr = [
          "كيف يمكنني إرسال جهاز للإصلاح؟",
          "ما هي مدة التصليح المعتادة؟",
          "هل توفرون قطع غيار أصلية؟",
          "كيف أتابع حالة الإصلاح؟"
        ];
        const faqAnswersAr = [
          "يمكنك إرسال الجهاز عبر البريد إلى عنوان الورشة أو التواصل معنا لترتيب خدمة الاستلام.",
          "مدة التصليح تختلف حسب نوع العطل، لكن غالباً لا تتجاوز 3 أيام عمل.",
          "نعم، نوفر قطع غيار أصلية وذات جودة عالية لجميع الأجهزة.",
          "نقوم بإرسال صور وفيديوهات لحالة الجهاز أثناء مراحل التصليح عبر واتساب."
        ];
        faqItems.forEach((item, i) => {
          item.querySelector('h3').textContent = faqQuestionsAr[i];
          item.querySelector('.answer').textContent = faqAnswersAr[i];
          item.classList.remove('open'); // يغلق الأسئلة عند التبديل
        });

        currentLang = 'ar';
      }
    }

    // FAQ فتح وإغلاق
    document.querySelectorAll('.faq-item h3').forEach(h3 => {
      h3.addEventListener('click', () => {
        const parent = h3.parentElement;
        parent.classList.toggle('open');
      });
    });

    // بدء التحديثات الأولية
    updateTime();
    updateVisits();
    setInterval(updateTime, 60000); // تحديث كل دقيقة

    // الأخبار الحية (من BBC عربي)
    async function fetchNews() {
      try {
        // لأننا ما نقدرش نجيب RSS مباشرة من طرف ثالث (CORS)، نعطيك هنا مثال نصي وهمي
        const news = [
          "📢 ورشة إلكترونيك الرحماني تفتح أبوابها لجميع الولايات.",
          "🔧 خدمات تصليح الأجهزة الإلكترونية بجودة عالية وبأسعار منافسة.",
          "🌍 التوصيل عبر البريد متوفر لكل أنحاء تونس.",
          "📱 تواصل معنا عبر واتساب لأي استفسار."
        ];
        document.getElementById('live-news').textContent = news.join('  •  ');
      } catch (e) {
        document.getElementById('live-news').textContent = 'تعذر تحميل الأخبار حالياً.';
      }
    }
    fetchNews();

  </script>
</body>
</html>